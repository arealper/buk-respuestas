<mat-card class="order-form-card">
    <div class="title-bar">
        <h3 class="title">{{ customerName }} - New Order</h3>
    </div>

    <mat-card-content class="card-content">
        <form [formGroup]="orderForm" class="order-form">
            <h3>Order</h3>

            <div class="row">
                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Employee</mat-label>
                    <mat-select formControlName="employeeID">
                        <mat-option *ngFor="let emp of employees" [value]="emp.employeeID">{{ emp.fullName }}</mat-option>
                    </mat-select>
                </mat-form-field>

                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Shipper</mat-label>
                    <mat-select formControlName="shipperID">
                        <mat-option *ngFor="let shipper of shippers" [value]="shipper.shipperID">{{ shipper.companyName }}</mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>Ship Name</mat-label>
                <input matInput formControlName="shipName" />
            </mat-form-field>

            <div class="row">
                <mat-form-field appearance="fill">
                    <mat-label>Ship Address</mat-label>
                    <input matInput formControlName="shipAddress" />
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Ship City</mat-label>
                    <input matInput formControlName="shipCity" />
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Ship Country</mat-label>
                    <input matInput formControlName="shipCountry" />
                </mat-form-field>
            </div>

            <div class="row">
                <mat-form-field appearance="fill" class="full-width">
                    <mat-label>Order Date</mat-label>
                    <mat-datepicker-toggle matPrefix [for]="picker">
                        <mat-icon matDatepickerToggleIcon>event</mat-icon>
                    </mat-datepicker-toggle>
                    <input matInput [matDatepicker]="picker" formControlName="orderDate" />
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Required Date</mat-label>
                    <mat-datepicker-toggle matPrefix [for]="requiredPicker">
                        <mat-icon matDatepickerToggleIcon>event</mat-icon>
                    </mat-datepicker-toggle>
                    <input matInput [matDatepicker]="requiredPicker" formControlName="requiredDate" />
                    <mat-datepicker #requiredPicker></mat-datepicker>
                </mat-form-field>
                <mat-form-field appearance="fill">
                    <mat-label>Shipped Date</mat-label>
                    <mat-datepicker-toggle matPrefix [for]="shippedPicker">
                        <mat-icon matDatepickerToggleIcon>event</mat-icon>
                    </mat-datepicker-toggle>
                    <input matInput [matDatepicker]="shippedPicker" formControlName="shippedDate" />
                    <mat-datepicker #shippedPicker></mat-datepicker>
                </mat-form-field>
            </div>

            <mat-form-field appearance="fill" class="full-width">
                <mat-label>$ Freight</mat-label>
                <input matInput formControlName="freight" type="number" min="0" step="0.01" maxlength="10" />
            </mat-form-field>

            <hr />

            <h3>Order Details</h3>
            <ng-container [formGroup]="productGroup">
                <div class="row">
                    <mat-form-field appearance="fill" class="full-width">
                        <mat-label>Product</mat-label>
                        <mat-select formControlName="productID">
                            <mat-option *ngFor="let product of products" [value]="product.productID">
                                {{ product.productName }}
                            </mat-option>
                        </mat-select>
                    </mat-form-field>
                </div>
                <div class="row">
                    <mat-form-field appearance="fill">
                        <mat-label>$ Unit Price</mat-label>
                        <input matInput formControlName="unitPrice" type="text" maxlength="10" pattern="^\d{1,9}(\.\d{0,2})?$" />
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Quantity</mat-label>
                        <input matInput formControlName="qty" type="text" maxlength="4" />
                    </mat-form-field>

                    <mat-form-field appearance="fill">
                        <mat-label>Discount</mat-label>
                        <input matInput formControlName="discount" type="number" step="0.01" min="0" max="1" maxlength="4" />
                    </mat-form-field>
                </div>
            </ng-container>
            <div class="actions">
                <a class="green action-link" [routerLink]="['/']">CLOSE</a>
                <a class="green action-link" (click)="onSubmit()">SAVE</a>
            </div>
        </form>
    </mat-card-content>
</mat-card>
